import{M as V,b as O,E as Z,a7 as C,a9 as j,K as D,h as p,am as m,ay as J,az as Q,k as W,aA as X,g as x,aB as ee,F as B,aC as te,aD as re,aE as se,aF as ae,aG as ie}from"./DczrQvZ7.js";import{B as fe}from"./I1M-dJc7.js";import{i as ue,d as oe,g as le,n as ce,j as ne}from"./COY4ROKi.js";import{t as _e,c as ve,s as de}from"./X7EjPee-.js";function be(e,r){if(r){const t=document.body;e.autofocus=!0,V(()=>{document.activeElement===t&&e.focus()})}}let F=!1;function he(){F||(F=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const r of e.target.elements)r.__on_r?.()})},{capture:!0}))}function we(e,r,...t){var s=new fe(e);O(()=>{const a=r()??null;s.ensure(a,a&&(c=>a(c,...t)))},Z)}function ge(e,r){var t=void 0,s;O(()=>{t!==(t=r())&&(s&&(C(s),s=null),t&&(s=j(()=>{D(()=>t(e))})))})}function ye(e,r,t,s,a,c){var b=e.__className;if(p||b!==t||b===void 0){var g=_e(t,s,c);(!p||g!==e.getAttribute("class"))&&(g==null?e.removeAttribute("class"):r?e.className=g:e.setAttribute("class",g)),e.__className=t}else if(c&&a!==c)for(var d in c){var n=!!c[d];(a==null||n!==!!a[d])&&e.classList.toggle(d,n)}return c}function M(e,r,t=!1){if(e.multiple){if(r==null)return;if(!m(r))return J();for(var s of e.options)s.selected=r.includes(R(s));return}for(s of e.options){var a=R(s);if(Q(a,r)){s.selected=!0;return}}(!t||r!==void 0)&&(e.selectedIndex=-1)}function Ae(e){var r=new MutationObserver(()=>{M(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),W(()=>{r.disconnect()})}function R(e){return"__value"in e?e.__value:e.value}const S=Symbol("class"),k=Symbol("style"),H=Symbol("is custom element"),K=Symbol("is html");function pe(e){if(p){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;w(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var a=e.checked;w(e,"checked",null),e.checked=a}}};e.__on_r=t,V(t),he()}}function Ee(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function w(e,r,t,s){var a=Y(e);p&&(a[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||a[r]!==(a[r]=t)&&(r==="loading"&&(e[ae]=t),t==null?e.removeAttribute(r):typeof t!="string"&&z(e).includes(r)?e[r]=t:e.setAttribute(r,t))}function Ne(e,r,t,s,a=!1,c=!1){if(p&&a&&e.tagName==="INPUT"){var b=e,g=b.type==="checkbox"?"defaultChecked":"defaultValue";g in t||pe(b)}var d=Y(e),n=d[H],y=!d[K];let E=p&&n;E&&B(!1);var u=r||{},N=e.tagName==="OPTION";for(var h in r)h in t||(t[h]=null);t.class?t.class=ve(t.class):t[S]&&(t.class=null),t[k]&&(t.style??=null);var L=z(e);for(const i in t){let f=t[i];if(N&&i==="value"&&f==null){e.value=e.__value="",u[i]=f;continue}if(i==="class"){var T=e.namespaceURI==="http://www.w3.org/1999/xhtml";ye(e,T,f,s,r?.[S],t[S]),u[i]=f,u[S]=t[S];continue}if(i==="style"){de(e,f,r?.[k],t[k]),u[i]=f,u[k]=t[k];continue}var _=u[i];if(!(f===_&&!(f===void 0&&e.hasAttribute(i)))){u[i]=f;var P=i[0]+i[1];if(P!=="$$")if(P==="on"){const v={},A="$$"+i;let o=i.slice(2);var I=ne(o);if(ue(o)&&(o=o.slice(0,-7),v.capture=!0),!I&&_){if(f!=null)continue;e.removeEventListener(o,u[A],v),u[A]=null}if(f!=null)if(I)e[`__${o}`]=f,le([o]);else{let G=function(q){u[i].call(this,q)};u[A]=oe(o,e,G,v)}else I&&(e[`__${o}`]=void 0)}else if(i==="style")w(e,i,f);else if(i==="autofocus")be(e,!!f);else if(!n&&(i==="__value"||i==="value"&&f!=null))e.value=e.__value=f;else if(i==="selected"&&N)Ee(e,f);else{var l=i;y||(l=ce(l));var $=l==="defaultValue"||l==="defaultChecked";if(f==null&&!n&&!$)if(d[i]=null,l==="value"||l==="checked"){let v=e;const A=r===void 0;if(l==="value"){let o=v.defaultValue;v.removeAttribute(l),v.defaultValue=o,v.value=v.__value=A?o:null}else{let o=v.defaultChecked;v.removeAttribute(l),v.defaultChecked=o,v.checked=A?o:!1}}else e.removeAttribute(i);else $||L.includes(l)&&(n||typeof f!="string")?(e[l]=f,l in d&&(d[l]=te)):typeof f!="function"&&w(e,l,f)}}}return E&&B(!0),u}function Ie(e,r,t=[],s=[],a=[],c,b=!1,g=!1){X(a,t,s,d=>{var n=void 0,y={},E=e.nodeName==="SELECT",u=!1;if(O(()=>{var h=r(...d.map(x)),L=Ne(e,n,h,c,b,g);u&&E&&"value"in h&&M(e,h.value);for(let _ of Object.getOwnPropertySymbols(y))h[_]||C(y[_]);for(let _ of Object.getOwnPropertySymbols(h)){var T=h[_];_.description===ee&&(!n||T!==n[_])&&(y[_]&&C(y[_]),y[_]=j(()=>ge(e,()=>T))),L[_]=T}n=L}),E){var N=e;D(()=>{M(N,n.value,!0),Ae(N)})}u=!0})}function Y(e){return e.__attributes??={[H]:e.nodeName.includes("-"),[K]:e.namespaceURI===re}}var U=new Map;function z(e){var r=e.getAttribute("is")||e.nodeName,t=U.get(r);if(t)return t;U.set(r,t=[]);for(var s,a=e,c=Element.prototype;c!==a;){s=ie(a);for(var b in s)s[b].set&&t.push(b);a=se(a)}return t}export{w as a,we as b,Ie as c,ye as s};
